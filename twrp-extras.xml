<?xml version="1.0" encoding="UTF-8"?>
<manifest>
    <remote  name="PitchBlackRecoveryProject"
           fetch="https://github.com/PitchBlackRecoveryProject" />

    <remote name="LineageOS"
            fetch="https://github.com/LineageOS"
            review="https://review.lineageos.org" />

    <!-- PBRP lives in PBRP -->
    <remove-project name="platform/bootable/recovery" />
    <project path="bootable/recovery" name="android_bootable_recovery" revision="android-9.0" remote="PitchBlackRecoveryProject"/>
    <project path="external/magisk-prebuilt" name="external_magisk-prebuilt" revision="master" remote="PitchBlackRecoveryProject" />
    <project path="vendor/pb" name="vendor_pb" remote="PitchBlackRecoveryProject" revision="pb" />
    <project path="vendor/utils" name="vendor_utils" remote="PitchBlackRecoveryProject" revision="pb">
        <linkfile src="pb_build.sh" dest="vendor/pb/pb_build.sh" />
    </project>

<!-- The following changes are no longer needed in 8.1 (only kept for reference) -->
<!-- =========================================================================== -->
    <!-- FBE libs (using AOSP tag android-8.0.0_r34) -->
        <!-- libkeymaster1.so -> libkeymaster_portable.so and libkeymaster_staging.so -->
        <!--
        <remove-project name="platform/system/keymaster" />
        <remove-project name="platform/system/security" />
        <project path="system/keymaster" name="platform/system/keymaster" remote="aosp" revision="refs/tags/android-8.0.0_r34" />
        <project path="system/security" name="platform/system/security" remote="aosp" revision="refs/tags/android-8.0.0_r34" />
        -->

        <!-- weaver -->
             <!-- TeamWin/.repo/AOSP is just a staging directory -->
        <!--
        <project path="TeamWin/.repo/AOSP/hardware/interfaces" name="platform/hardware/interfaces" remote="aosp" revision="refs/tags/android-8.0.0_r34" >
            <linkfile src="weaver" dest="hardware/interfaces/weaver" />
        </project>
        -->

        <!-- libkeyutils.so -->
             <!-- TeamWin/.repo/AOSP is just a staging directory -->
        <!--
        <project path="TeamWin/.repo/AOSP/system/core" name="platform/system/core" remote="aosp" revision="refs/tags/android-8.0.0_r34" >
            <linkfile src="libkeyutils" dest="system/core/libkeyutils" />
        </project>
        -->
<!-- =========================================================================== -->

<!-- Include shallow clone of needed external/frameworks folders -->
    <project path="external/nist-sip" name="platform/external/nist-sip" groups="pdk" clone-depth="1" />
    <project path="external/tagsoup" name="platform/external/tagsoup" groups="pdk" clone-depth="1" />
    <project path="frameworks/base" name="android_frameworks_base_old" remote="omnirom" revision="android-8.1" clone-depth="1" />
    <project path="frameworks/data-binding" name="platform/frameworks/data-binding" groups="pdk-cw-fs,pdk-fs" clone-depth="1" />
    <project path="frameworks/opt/net/voip" name="platform/frameworks/opt/net/voip" groups="pdk-cw-fs,pdk-fs" clone-depth="1" />
    <project path="frameworks/opt/telephony" name="android_frameworks_opt_telephony" remote="omnirom" revision="android-8.1" clone-depth="1" />
    <project path="frameworks/support" name="platform/frameworks/support" groups="pdk-cw-fs,pdk-fs" clone-depth="1" />


<!-- Custom busybox no longer needed, but will keep here for reference -->
    <!-- <project path="external/busybox" name="TeamWin/android_external_busybox" remote="github" revision="android-8.0" /> -->

<!-- Use OmniROM busybox -->
    <project path="external/busybox" name="android_external_busybox" remote="omnirom" revision="android-8.1" />
    <project path="external/zip" name="android_external_zip" remote="PitchBlackRecoveryProject" revision="lineage-15.1" />

<!-- extra -->
    <project path="system/core" name="android_system_core_old" remote="PitchBlackRecoveryProject" revision="android-8.1" />
    <project path="system/libhidl" name="android_system_libhidl" remote="PitchBlackRecoveryProject" revision="android-8.1" />

<!-- Include external LineageOS repos for bash & nano -->
    <project name="android_external_bash" path="external/bash" remote="LineageOS" revision="lineage-15.1" />
    <project name="android_external_nano" path="external/nano" remote="LineageOS" revision="lineage-15.1" />
    <project name="android_external_libncurses" path="external/libncurses" remote="LineageOS" revision="lineage-15.1" />
</manifest>
